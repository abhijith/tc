name: example-api-async

routes:
  /api/message:
    method: POST
    event: ProcessMessage

events:
  ProcessMessage:
    mutation: runProcessor

mutations:
  authorizer: "{{namespace}}_authorizer_{{sandbox}}"
  types:
    Message:
      id: String!
      text: String
  resolvers:
    function: processor
    input: EventData
    output: Job
    subscribe: true

pages:
  webapp:
    dir: webapp
