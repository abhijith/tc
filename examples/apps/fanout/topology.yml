name: fanout

routes:
  /api/fanout:
    method: POST
    event: MyRawEvent

events:
  MyRawEvent:
    filter: '{"detail_type": ["FooBar"]}'
    function: foo
  MyFilterEvent:
    producer: default
    filter: '{"metadata": {"type": ["bar"]}}'
    function: bar
  MyAbstractEvent:
    producer: default
    function: foo
