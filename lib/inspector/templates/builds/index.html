{% extends "base.html" %}
{% block content %}

<div class="grid">
  <div align="left">

    <button class="custom-button primary"
	    hx-post="/builds/sync"
	    hx-target="#builds"
	    hx-indicator="#status"
	    hx-swap="outerHtml">
      <i class="ph ph-arrows-clockwise"></i> Sync
    </button>

    <button class="custom-button primary"
	    hx-post="/builds/start"
	    hx-target="#builds"
	    hx-indicator="#status">
      <i class="ph ph-lego"></i> Build
    </button>

    <button class="custom-button primary"
	    hx-post="/builds/promote"
	    hx-target="#builds"
	    hx-indicator="#status">
      <i class="ph ph-arrow-fat-up"></i> Promote
    </button>

  </div>

  <div class="x">
    <div class="xg"></div>
    <div class="x4">


    <details class="dropdown">
      <summary role="button">
	<i class="fas fa-list"></i> List
      </summary>
      <ul>
	<li><a href="/builds/layers/all">Layers</a></li>
	<li><a href="/builds/images/all">Images</a></li>
      </ul>
    </details>
    </div>
  </div>

</div>

<br/>

<div class="htmx-indicator" id="status">
  Compiling <progress/>
</div>

<div id="builds"
     hx-trigger="load"
     hx-get="/builds/layers/list"
     hx-swap="innerHTML">

  <div class="grid">
    <div></div>
    <div align="center" id="spinner">
      <br/>
      <br/>
      <br/>
      <progress />
    </div>
    <div></div>
  </div>
</div>


{% endblock %}
