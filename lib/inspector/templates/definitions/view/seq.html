<script type="module">

  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true, sequence: { showSequenceNumbers: true } });
  await mermaid.run({
  querySelector: '.mermaid',
  postRenderCallback: (id) => {
  const container = document.getElementById("diagram-container");
  const svgElement = container.querySelector("svg");

  // Initialize Panzoom
  const panzoomInstance = Panzoom(svgElement, {
  maxScale: 5,
  minScale: 0.5,
  step: 0.1,
  });

  // Add mouse wheel zoom
  container.addEventListener("wheel", (event) => {
  panzoomInstance.zoomWithWheel(event);
  });
  }
  });
</script>

<script src="https://unpkg.com/mermaid@8.0.0/dist/mermaid.min.js"></script>
<div class="overflow-auto">
<div class="diagram-container" id="diagram-container">
  <div class="mermaid">
    sequenceDiagram
    autonumber
    {% for item in items %}
    {{item}}
    {% endfor %}
  </div>
</div>
</div>
