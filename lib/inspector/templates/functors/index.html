{% extends "base.html" %}
{% block content %}

<div class="x">
  <div class="x5">
    <div class="spaced">
      <br/>
      <button class="mbtn"
		hx-post="/hx/functors/load"
	        hx-indicator="#status"
		hx-target="#functors"
		hx-swap="innerHtml">
	<i class="ph ph-arrow-clockwise"></i> Load Functors
	</button>
      <span class="htmx-indicator" id="status" aria-busy="true">
      </span>
    </div>
    <div class="functors">
      <div class="spaced"
	   id="functors"
	   hx-trigger="load"
	   hx-get="/hx/functors/list/{{root}}/{{namespace}}">
      </div>
      <br/>
      <br/>
    </div>
  </div>

  <div class="xg">
    <div id="tabs"
	 class="container-entity"
	 hx-target="#tab-contents"
	 role="tablist"
	 hx-on:htmx-after-on-load="let currentTab = document.querySelector('[aria-selected=true]');
				   currentTab.setAttribute('aria-selected', 'false')
				   currentTab.classList.remove('selected')
				   currentTab.classList.remove('outline')
				   let newTab = event.target
				   newTab.setAttribute('aria-selected', 'true')
				   newTab.classList.add('selected')">
      <button role="tab"
	      aria-controls="tab-contents"
	      aria-selected="true"
	      hx-get="/hx/functor/definition/{{root}}/{{namespace}}"
	      class="tab selected">
	Definition
      </button>

      <button role="tab"
	      aria-controls="tab-contents"
	      aria-selected="false"
	      class="tab"
	      hx-get="/hx/functor/functions/{{root}}/{{namespace}}">
	Functions
      </button>


      <button role="tab"
	      aria-controls="tab-contents"
	      aria-selected="false"
	      class="tab"
	      hx-get="/hx/functor/mutations/{{root}}/{{namespace}}">
	Mutations
      </button>

      <button role="tab"
	      aria-controls="tab-contents"
	      aria-selected="false"
	      class="tab"
	      hx-get="/hx/functor/states/{{root}}/{{namespace}}">
	States
      </button>

      <button role="tab"
	      aria-controls="tab-contents"
	      aria-selected="false"
	      class="tab"
	      hx-get="/hx/functor/events/{{root}}/{{namespace}}">
	Events
      </button>

    </div>

    <div id="tab-contents"
	 class="functors spaced"
	 role="tabpanel"
	 hx-get="/hx/functor/definition/{{root}}/{{namespace}}"
	 hx-trigger="load">


    </div>

  </div>
</div>


{% endblock %}
