{% extends "base.html" %}
{% block content %}

<div class="navbg right-spaced">
<nav class="navbar">
  <ul>
    <li></li>
    <li>
    <button class="mbtn"
	    hx-post="/hx/functors/load"
	    hx-indicator="#status"
	    hx-target="#functors"
	    hx-swap="innerHtml">
      Load Functors
    </button>
    <span class="htmx-indicator" id="status" aria-busy="true">Loading...</button>
    </li>
  </ul>
  <ul>

    <li>
    <button class="mbtn"
	    hx-post="/hx/functor/definition/{{root}}/{{namespace}}"
	    hx-indicator="#status"
	    hx-target="#functor-viewer"
	    hx-swap="innerHtml">
      <i class="ph ph-code"></i> Definition
    </button>
    </li>

    <li>
    <button class="mbtn"
	    hx-post="/hx/functor/topology/{{root}}/{{namespace}}"
	    hx-indicator="#status"
	    hx-target="#functor-viewer"
	    hx-swap="innerHtml">
      <i class="ph ph-graph"></i> Topology
    </button>
    </li>

    <li>
    <button class="mbtn"
	    hx-post="/hx/functor/flow/{{root}}/{{namespace}}"
	    hx-indicator="#status"
	    hx-target="#functor-viewer"
	    hx-swap="innerHtml">
      <i class="ph ph-tree-structure"></i> Flow
    </button>
    </li>

    <li>
    <button class="mbtn"
	    hx-post="/hx/functor/sandbox-form/{{root}}/{{namespace}}"
	    hx-indicator="#status"
	    hx-target="#functor-viewer"
	    hx-swap="innerHtml">
      <i class="ph ph-plus"></i> Sandbox
    </button>
    </li>

    <li>
    <button class="mbtn"
	    hx-post="/hx/functor/test-form/{{root}}/{{namespace}}"
	    hx-indicator="#status"
	    hx-target="#functor-viewer"
	    hx-swap="innerHtml">
      <i class="ph ph-test-tube"></i> Test
    </button>
    </li>

  </ul>
  </ul>
</nav>
</div>

<br/>

<div class="x">
  <div class="x4">
    <div class="spaced">
      <strong> Functors</strong>
      <br/>
    </div>
    <div class="functors">
      <div class="spaced"
	   id="functors"
	   hx-trigger="load"
	   hx-get="/hx/functors/list/{{root}}/{{namespace}}">

      </div>
      <br/>
      <br/>
    </div>
  </div>


  <div class="x75">
    <div class="overflow-auto spaced container-fixed">
      <div id="functor-viewer">
	{% if root != "default" %}
	{% include "definition.html" %}
	{% endif %}
      </div>
    </div>
  </div>
  </div>
</div>


{% endblock %}
