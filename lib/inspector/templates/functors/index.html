{% extends "base.html" %}
{% block content %}

<div class="navbg right-spaced">
<nav class="navbar">
  <ul>
    <li></li>
    <li>
    <button class="mbtn"
	    hx-post="/hx/functors/load"
	    hx-indicator="#status"
	    hx-target="#functors"
	    hx-swap="innerHtml">
      <i class="ph ph-arrow-clockwise"></i> Load Functors
    </button>
    </li>
  </ul>
  <ul>

    <li>
    <button class="mbtn"
	    hx-post="/hx/functor/topology/{{root}}/{{namespace}}"
	    hx-indicator="#status"
	    hx-target="#functor-viewer"
	    hx-swap="innerHtml">
      <i class="ph ph-graph"></i> Topology
    </button>
    </li>

    <li>
    <button class="mbtn"
	    hx-post="/hx/functor/flow/{{root}}/{{namespace}}"
	    hx-indicator="#status"
	    hx-target="#functor-viewer"
	    hx-swap="innerHtml">
      <i class="ph ph-tree-structure"></i> Flow
    </button>
    </li>

  </ul>
  </ul>
</nav>
</div>


<div align="center" id="status" class="htmx-indicator">
  <br/>
  <br/>
  <br/>
  <span aria-busy="true">Loading topology definitions...</article>
</div>

<br/>

<div class="x">
  <div class="x6">
    <strong> Functors</strong>
    <br/>
    <div class="functors">
      <div class="spaced"
	   id="functors"
	   hx-trigger="load"
	   hx-get="/hx/functors/list/{{root}}/{{namespace}}">

      </div>
      <br/>
      <br/>
    </div>
  </div>

  <div class="x4">
    <div class="spaced container-def">
    <strong>Definition</strong>
    <br/>
    {% if root != "default" %}
    {% include "definition.html" %}
    {% endif %}
    </div>
  </div>

  <div class="xg">
    <div class="overflow-auto spaced container-fixed">
      <div id="functor-viewer">

      </div>
    </div>
  </div>
  </div>
</div>


{% endblock %}
